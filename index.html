<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Project 4</title>
  <link href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <style>
        
        body{
            margin:0;
        }
        
        main{
            margin-left: 8px;
        }
        
        :root {
            --mdc-theme-primary: green;
        }
    </style>
</head>

<body>
  <div class="mdc-drawer-scrim"></div>
    
    <header class="mdc-top-app-bar ">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
          <span class="mdc-top-app-bar__title">Slav Gagarov Project 4</span>
        </section>
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
          <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Download">file_download</button>
          <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Print this page">print</button>
          <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Bookmark this page">bookmark</button>
        </section>
      </div>
        </header>
    
    
    <div class="mdc-top-app-bar--fixed-adjust">
        <label  for="myBrowser">Choose a country:</label>
            <input list="countries" id="selectingOptions" name="selectingOptions" />
            <datalist id="countries">
            </datalist>
        <button id="addCountry" class="mdc-button">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label">Add</span>
        </button>
    </div>
    
    <h3>Selected Countries</h3>
    <ul id="selected"></ul>
    
    <script>
        mdc.topAppBar.MDCTopAppBar.attachTo(document.querySelector('header.mdc-top-app-bar'));
        mdc.ripple.MDCRipple.attachTo(document.querySelector('.mdc-button'));
        
        document.querySelector("#addCountry").addEventListener("click", function(){
          let selectedC = document.querySelector("#selectingOptions").value;
          console.log(selectedC);
          if(selectedC != ""){
              let ulRef = document.querySelector("ul");
              var newLi = document.createElement("li");
              var newSpan = document.createElement("span");

              newLi.appendChild(newSpan);
              newSpan.textContent=selectedC;
              ulRef.appendChild(newLi);
          }
        });
    </script>
    
    <script>
        let datalistRef = document.querySelector("#countries");
          fetch("https://pomber.github.io/covid19/timeseries.json")
          .then(response => response.json())
          .then(data => {
              var keys = Object.keys(data);
              keys.forEach(val => {
                  var newOption = document.createElement("option");
                  newOption.value = val;
                  datalistRef.appendChild(newOption);
            });
              
          });
    </script>
</body>

</html>